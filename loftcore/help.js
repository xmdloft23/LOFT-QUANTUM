// РћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђ
//  MR LOFT РђЊ SLIDE MENU 
// РћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђ
const settings = require('../settings');
const axios = require('axios');
const { prepareWAMessageMedia, generateWAMessageFromContent, proto } = require('@whiskeysockets/baileys');

const IMAGES = [
  './image.jpg',
  // Add more images later
];

/**
 * Read More Spoiler (WhatsApp Hack)
 */
const READ_MORE = '\u200B'.repeat(4001);

/**
 * Full Help Message (used only for building slides)
 */
const HELP_MESSAGE = `
РЋГРќ░Рќ░сђћ *╩Ър┤ЈЖю░р┤Џ Qр┤юр┤ђ╔┤р┤Џр┤юр┤Ї* сђЋРќ░Рќ░РЋ«
Рў╗ ­Ъња *╩Ўр┤Јр┤Џ ╔┤р┤ђр┤Їр┤Є:* ╩Ър┤ЈЖю░р┤Џ Qр┤юр┤ђ╔┤р┤Џр┤юр┤Ї
Рў╗ ­ЪЉЉ *р┤Јр┤А╔┤р┤Є╩ђ:* ­Юџѓ­Юџњ­ЮџЏ ­ЮЎ╗­ЮЎЙ­ЮЎх­ЮџЃ
Рў╗ РџЎ№ИЈ *р┤ар┤Є╩ђЖю▒╔фр┤Ј╔┤:* ­ЮџЋ­Юџі­ЮџЮ­Юџј­Юџю­ЮџЮ ­Юџђ­Юџъ­Юџі­ЮџЌ­ЮџЮ­Юџъ­Юџќ
Рў╗ ­Ъњ╗ *р┤ў╩Ър┤ђр┤ЏЖю░р┤Ј╩ђр┤Ї:* ­Юџђ­Юџъ­Юџі­ЮџЌ­ЮџЮ­Юџъ­Юџќ (­ЮЪИ­ЮЪИ.­ЮЪХ­ЮЪ║)
Рў╗ ­ЪЋљ *р┤юр┤ўр┤Џ╔фр┤Їр┤Є:* ${getUptime()}
Рќ░Рќ░Рќ░Рќ░Рќ░Рќ░Рќ░Рќ░Рќ░Рќ░
 р┤Ар┤Є╩Ър┤ёр┤Јр┤Їр┤Є р┤Џр┤Ј ╩Ър┤ЈЖю░р┤ЏРёб
Рќ░Рќ░Рќ░Рќ░Рќ░Рќ░Рќ░Рќ░Рќ░Рќ░
Жю░╩ђр┤Єр┤Є ╩Ўр┤Јр┤Џ ­ЪЉЅ https://quantum-three-taupe.vercel.app/
р┤Јр┤А╔┤р┤Є╩ђ ­ЪЉЅ Жю▒╔ф╩ђ ╩Ър┤ЈЖю░р┤Џ 
р┤ёр┤Ј╔┤р┤Џр┤ђр┤ёр┤Џ ­ЪЉЅ +255778018545

# р┤ўр┤ђ╔бр┤Є 01 
Рў╗ ­ЮљА­Юљъ­ЮљЦ­ЮљЕ | .­Юљд­Юљъ­ЮљД­Юљ«
Рў╗ ­ЮљЕ­Юљб­ЮљД­Юља
Рў╗ ­Юљџ­ЮљЦ­Юљб­Юљ»­Юљъ
Рў╗ ­ЮљГ­ЮљГ­Юљг <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­Юље­Юљ░­ЮљД­Юљъ­ЮљФ
Рў╗ ­ЮљБ­Юље­Юљц­Юљъ
Рў╗ ­Юљф­Юљ«­Юље­ЮљГ­Юљъ
Рў╗ ­ЮљЪ­Юљџ­Юљю­ЮљГ
Рў╗ ­Юљ░­Юљъ­Юљџ­ЮљГ­ЮљА­Юљъ­ЮљФ <­Юљю­Юљб­ЮљГ­Юљ▓>
Рў╗ ­ЮљД­Юљъ­Юљ░­Юљг
Рў╗ ­Юљџ­ЮљГ­ЮљГ­ЮљЕ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­ЮљЦ­Юљ▓­ЮљФ­Юљб­Юљю­Юљг <­Юљг­Юље­ЮљД­Юља>
Рў╗ ­ЮЪќ­ЮљЏ­Юљџ­ЮљЦ­ЮљЦ <­Юљф­Юљ«­Юљъ­Юљг­ЮљГ­Юљб­Юље­ЮљД>
Рў╗ ­Юља­ЮљФ­Юље­Юљ«­ЮљЕ­Юљб­ЮљД­ЮљЪ­Юље
Рў╗ ­Юљг­ЮљГ­Юљџ­ЮљЪ­ЮљЪ | .­Юљџ­ЮљЮ­Юљд­Юљб­ЮљД­Юљг
Рў╗ ­Юљ»­Юљ»
Рў╗ ­ЮљГ­ЮљФ­ЮљГ <­ЮљГ­Юљъ­Юљ▒­ЮљГ> <­ЮљЦ­Юљџ­ЮљД­Юља>
Рў╗ ­Юљг­Юљг <­ЮљЦ­Юљб­ЮљД­Юљц>
Рў╗ ­ЮљБ­Юљб­ЮљЮ
Рў╗ ­Юљ«­ЮљФ­ЮљЦ
Рў╗ add

# р┤ўр┤ђ╔бр┤Є 02 
Рў╗ ­ЮљЏ­Юљџ­ЮљД @­Юљ«­Юљг­Юљъ­ЮљФ
Рў╗ ­ЮљЕ­ЮљФ­Юље­Юљд­Юље­ЮљГ­Юљъ @­Юљ«­Юљг­Юљъ­ЮљФ
Рў╗ ­ЮљЮ­Юљъ­Юљд­Юље­ЮљГ­Юљъ @­Юљ«­Юљг­Юљъ­ЮљФ
Рў╗ ­Юљд­Юљ«­ЮљГ­Юљъ <­Юљд­Юљб­ЮљД­Юљ«­ЮљГ­Юљъ­Юљг>
Рў╗ ­Юљ«­ЮљД­Юљд­Юљ«­ЮљГ­Юљъ
Рў╗ ­ЮљЮ­Юљъ­ЮљЦ­Юљъ­ЮљГ­Юљъ | .­ЮљЮ­Юљъ­ЮљЦ
Рў╗ ­Юљц­Юљб­Юљю­Юљц @­Юљ«­Юљг­Юљъ­ЮљФ
Рў╗ ­Юљ░­Юљџ­ЮљФ­ЮљД­Юљб­ЮљД­Юља­Юљг @­Юљ«­Юљг­Юљъ­ЮљФ
Рў╗ ­Юљ░­Юљџ­ЮљФ­ЮљД @­Юљ«­Юљг­Юљъ­ЮљФ
Рў╗ ­Юљџ­ЮљД­ЮљГ­Юљб­ЮљЦ­Юљб­ЮљД­Юљц
Рў╗ ­Юљџ­ЮљД­ЮљГ­Юљб­ЮљЏ­Юљџ­ЮљЮ­Юљ░­Юље­ЮљФ­ЮљЮ
Рў╗ ­Юљю­ЮљЦ­Юљъ­Юљџ­ЮљФ
Рў╗ ­ЮљГ­Юљџ­Юља <­Юљд­Юљъ­Юљг­Юљг­Юљџ­Юља­Юљъ>
Рў╗ ­ЮљГ­Юљџ­Юља­Юљџ­ЮљЦ­ЮљЦ
Рў╗ ­ЮљГ­Юљџ­Юља­ЮљД­Юље­ЮљГ­Юљџ­ЮљЮ­Юљд­Юљб­ЮљД
Рў╗ ­ЮљА­Юљб­ЮљЮ­Юљъ­ЮљГ­Юљџ­Юља <­Юљд­Юљъ­Юљг­Юљг­Юљџ­Юља­Юљъ>
Рў╗ ­Юљю­ЮљА­Юљџ­ЮљГ­ЮљЏ­Юље­ЮљГ
Рў╗ ­ЮљФ­Юљъ­Юљг­Юљъ­ЮљГ­ЮљЦ­Юљб­ЮљД­Юљц

# р┤ўр┤ђ╔бр┤Є 03 
Рў╗ ­Юљџ­ЮљД­ЮљГ­Юљб­ЮљГ­Юљџ­Юља <­Юље­ЮљД/­Юље­ЮљЪ­ЮљЪ>
Рў╗ ­Юљ░­Юљъ­ЮљЦ­Юљю­Юље­Юљд­Юљъ <­Юље­ЮљД/­Юље­ЮљЪ­ЮљЪ>
Рў╗ ­Юља­Юље­Юље­ЮљЮ­ЮљЏ­Юљ▓­Юљъ <­Юље­ЮљД/­Юље­ЮљЪ­ЮљЪ>
Рў╗ ­Юљг­Юљъ­ЮљГ­Юља­ЮљЮ­Юљъ­Юљг­Юљю <­ЮљЮ­Юљъ­Юљг­Юљю­ЮљФ­Юљб­ЮљЕ­ЮљГ­Юљб­Юље­ЮљД>
Рў╗ ­Юљг­Юљъ­ЮљГ­Юља­ЮљД­Юљџ­Юљд­Юљъ <­ЮљД­Юљъ­Юљ░ ­ЮљД­Юљџ­Юљд­Юљъ>
Рў╗ ­Юљг­Юљъ­ЮљГ­Юља­ЮљЕ­ЮљЕ
Рў╗ ­Юљд­Юље­ЮљЮ­Юљъ <­ЮљЕ­Юљ«­ЮљЏ­ЮљЦ­Юљб­Юљю/­ЮљЕ­ЮљФ­Юљб­Юљ»­Юљџ­ЮљГ­Юљъ>
Рў╗ ­Юљю­ЮљЦ­Юљъ­Юљџ­ЮљФ­Юљг­Юљъ­Юљг­Юљг­Юљб­Юље­ЮљД
Рў╗ ­Юљџ­ЮљД­ЮљГ­Юљб­ЮљЮ­Юљъ­ЮљЦ­Юљъ­ЮљГ­Юљъ
Рў╗ ­Юљю­ЮљЦ­Юљъ­Юљџ­ЮљФ­ЮљГ­Юљд­ЮљЕ
Рў╗ ­Юљ«­ЮљЕ­ЮљЮ­Юљџ­ЮљГ­Юљъ
Рў╗ ­Юљг­Юљъ­ЮљГ­ЮљГ­Юљб­ЮљД­Юља­Юљг
Рў╗ ­Юљг­Юљъ­ЮљГ­ЮљЕ­ЮљЕ
Рў╗ ­Юљџ­Юљ«­ЮљГ­Юље­ЮљЏ­Юљб­Юље <­ЮљГ­Юљъ­Юљ▒­ЮљГ>         
Рў╗ ­ЮљЕ­Юљџ­Юљ▓ <­Юљд­Юљъ­ЮљГ­ЮљА­Юље­ЮљЮ> <­ЮљЮ­Юљъ­ЮљГ­Юљџ­Юљб­ЮљЦ­Юљг>  
Рў╗ ­ЮљЕ­ЮљА­Юље­ЮљД­Юљъ                        
Рў╗ ­Юљџ­Юљ«­ЮљГ­Юље­ЮљФ­Юљъ­Юљџ­Юљю­ЮљГ <­Юље­ЮљД/­Юље­ЮљЪ­ЮљЪ>
Рў╗ ­Юљџ­Юљ«­ЮљГ­Юље­Юљг­ЮљГ­Юљџ­ЮљГ­Юљ«­Юљг <­Юље­ЮљД/­Юље­ЮљЪ­ЮљЪ>

# р┤ўр┤ђ╔бр┤Є 04 
Рў╗ ­ЮљЏ­ЮљЦ­Юљ«­ЮљФ <­Юљб­Юљд­Юљџ­Юља­Юљъ>
Рў╗ ­Юљг­Юљб­Юљд­Юљџ­Юља­Юљъ
Рў╗ ­Юљг­ЮљГ­Юљб­Юљю­Юљц­Юљъ­ЮљФ
Рў╗ ­ЮљФ­Юљъ­Юљд­Юље­Юљ»­Юљъ­ЮљЏ­Юља
Рў╗ ­ЮљФ­Юљъ­Юљд­Юљб­ЮљД­Юљб
Рў╗ ­Юљю­ЮљФ­Юље­ЮљЕ
Рў╗ ­ЮљГ­Юља­Юљг­ЮљГ­Юљб­Юљю­Юљц­Юљъ­ЮљФ <­ЮљЦ­Юљб­ЮљД­Юљц>
Рў╗ ­Юљд­Юљъ­Юљд­Юљъ
Рў╗ ­ЮљГ­Юљџ­Юљц­Юљъ <­ЮљЕ­Юљџ­Юљю­Юљц­ЮљД­Юљџ­Юљд­Юљъ>
Рў╗ ­Юљъ­Юљд­Юље­ЮљБ­Юљб­Юљд­Юљб­Юљ▒ <­Юљъ­Юљд­ЮљБ­ЮЪЈ>+<­Юљъ­Юљд­ЮљБ­ЮЪљ>
Рў╗ ­Юљб­Юља­Юљг <­Юљб­ЮљД­Юљг­ЮљГ­Юљџ ­ЮљЦ­Юљб­ЮљД­Юљц>
Рў╗ ­Юљб­Юља­Юљг­Юљю <­Юљб­ЮљД­Юљг­ЮљГ­Юљџ ­ЮљЦ­Юљб­ЮљД­Юљц>
Рў╗ ­ЮљГ­Юљ░­Юљъ­Юљъ­ЮљГ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­Юљ▓­ЮљГ­Юљю­Юље­Юљд­Юљд­Юљъ­ЮљД­ЮљГ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­ЮљБ­Юљџ­Юљб­ЮљЦ <­Юљб­Юљд­Юљџ­Юља­Юљъ>
Рў╗ ­Юљю­Юљб­ЮљФ­Юљю­ЮљЦ­Юљъ <­Юљб­Юљд­Юљџ­Юља­Юљъ>

# р┤ўр┤ђ╔бр┤Є 05 
Рў╗ ­ЮљЕ­Юљб­Юљъ­Юљг <­Юљю­Юље­Юљ«­ЮљД­ЮљГ­ЮљФ­Юљ▓>
Рў╗ ­Юљю­ЮљА­Юљб­ЮљД­Юљџ
Рў╗ ­Юљб­ЮљД­ЮљЮ­Юље­ЮљД­Юљъ­Юљг­Юљб­Юљџ
Рў╗ ­ЮљБ­Юљџ­ЮљЕ­Юљџ­ЮљД
Рў╗ ­Юљц­Юље­ЮљФ­Юљъ­Юљџ
Рў╗ ­ЮљА­Юљб­ЮљБ­Юљџ­ЮљЏ
Рў╗ ­ЮљД­Юљъ­Юљц­Юље
Рў╗ ­Юљ░­Юљџ­Юљб­ЮљЪ­Юљ«
Рў╗ ­ЮљЦ­Юље­ЮљЦ­Юљб
Рў╗ ­ЮљД­Юље­Юљд
Рў╗ ­ЮљЕ­Юље­Юљц­Юљъ
Рў╗ ­Юљю­ЮљФ­Юљ▓
Рў╗ ­Юљц­Юљб­Юљг­Юљг
Рў╗ ­ЮљЕ­Юљџ­ЮљГ
Рў╗ ­ЮљА­Юљ«­Юља
Рў╗ ­Юљ░­Юљб­ЮљД­Юљц
Рў╗ ­ЮљЪ­Юљџ­Юљю­Юљъ­ЮљЕ­Юљџ­ЮљЦ­Юљд

# р┤ўр┤ђ╔бр┤Є 06 
Рў╗ ­ЮљГ­Юљб­Юљю­ЮљГ­Юљџ­Юљю­ЮљГ­Юље­Юљъ @­Юљ«­Юљг­Юљъ­ЮљФ
Рў╗ ­ЮљА­Юљџ­ЮљД­Юља­Юљд­Юљџ­ЮљД
Рў╗ ­Юља­Юљ«­Юљъ­Юљг­Юљг <­ЮљЦ­Юљъ­ЮљГ­ЮљГ­Юљъ­ЮљФ>
Рў╗ ­ЮљГ­ЮљФ­Юљб­Юљ»­Юљб­Юљџ
Рў╗ ­Юљџ­ЮљД­Юљг­Юљ░­Юљъ­ЮљФ <­Юљџ­ЮљД­Юљг­Юљ░­Юљъ­ЮљФ>
Рў╗ ­ЮљГ­ЮљФ­Юљ«­ЮљГ­ЮљА
Рў╗ ­ЮљЮ­Юљџ­ЮљФ­Юљъ
Рў╗ ­Юљю­Юље­Юљд­ЮљЕ­ЮљЦ­Юљб­Юљд­Юљъ­ЮљД­ЮљГ @­Юљ«­Юљг­Юљъ­ЮљФ
Рў╗ ­Юљб­ЮљД­Юљг­Юљ«­ЮљЦ­ЮљГ @­Юљ«­Юљг­Юљъ­ЮљФ
Рў╗ ­ЮљЪ­ЮљЦ­Юљб­ЮљФ­ЮљГ
Рў╗ ­Юљг­ЮљА­Юљџ­Юљ▓­Юљџ­ЮљФ­Юљб
Рў╗ ­Юља­Юље­Юље­ЮљЮ­ЮљД­Юљб­Юља­ЮљА­ЮљГ
Рў╗ ­ЮљФ­Юље­Юљг­Юљъ­ЮљЮ­Юљџ­Юљ▓

# р┤ўр┤ђ╔бр┤Є 07 
Рў╗ ­Юља­ЮљЕ­ЮљГ <­Юљф­Юљ«­Юљъ­Юљг­ЮљГ­Юљб­Юље­ЮљД>
Рў╗ ­Юља­Юљъ­Юљд­Юљб­ЮљД­Юљб <­Юљф­Юљ«­Юљъ­Юљг­ЮљГ­Юљб­Юље­ЮљД>
Рў╗ ­Юљб­Юљд­Юљџ­Юља­Юљб­ЮљД­Юљъ <­ЮљЕ­ЮљФ­Юље­Юљд­ЮљЕ­ЮљГ>
Рў╗ ­ЮљЪ­ЮљЦ­Юљ«­Юљ▒ <­ЮљЕ­ЮљФ­Юље­Юљд­ЮљЕ­ЮљГ>
Рў╗ ­Юљг­Юље­ЮљФ­Юљџ <­ЮљЕ­ЮљФ­Юље­Юљд­ЮљЕ­ЮљГ>
Рў╗ ­ЮљА­Юљъ­Юљџ­ЮљФ­ЮљГ
Рў╗ ­ЮљА­Юље­ЮљФ­ЮљД­Юљ▓
Рў╗ ­ЮљЦ­Юља­ЮљЏ­ЮљГ
Рў╗ ­ЮљЦ­Юље­ЮљЦ­Юљб­Юљю­Юљъ
Рў╗ ­Юљб­ЮљГ­Юљг-­Юљг­Юље-­Юљг­ЮљГ­Юљ«­ЮљЕ­Юљб­ЮљЮ
Рў╗ ­ЮљД­Юљџ­Юљд­Юљъ­Юљю­Юљџ­ЮљФ­ЮљЮ
Рў╗ ­Юље­Юље­Юља­Юљ░­Юљџ­Юљ▓

# р┤ўр┤ђ╔бр┤Є 08 
Рў╗ ­Юљю­ЮљА­Юљџ­ЮљФ­Юљџ­Юљю­ЮљГ­Юљъ­ЮљФ @­Юљ«­Юљг­Юљъ­ЮљФ
Рў╗ ­Юљ░­Юљџ­Юљг­ЮљГ­Юљъ­ЮљЮ @­Юљ«­Юљг­Юљъ­ЮљФ
Рў╗ ­Юљг­ЮљА­Юљб­ЮљЕ @­Юљ«­Юљг­Юљъ­ЮљФ
Рў╗ ­Юљг­Юљб­Юљд­ЮљЕ @­Юљ«­Юљг­Юљъ­ЮљФ
Рў╗ ­Юљг­ЮљГ­Юљ«­ЮљЕ­Юљб­ЮљЮ @­Юљ«­Юљг­Юљъ­ЮљФ [­ЮљГ­Юљъ­Юљ▒­ЮљГ]
Рў╗ ­Юља­Юљџ­Юљ▓
Рў╗ ­Юља­ЮљЦ­Юљџ­Юљг­Юљг
Рў╗ ­ЮљЕ­Юљџ­Юљг­Юљг­Юљъ­ЮљЮ
Рў╗ ­ЮљГ­ЮљФ­Юљб­Юља­Юља­Юљъ­ЮљФ­Юљъ­ЮљЮ
Рў╗ ­Юљю­Юље­Юљд­ЮљФ­Юљџ­ЮљЮ­Юљъ

# р┤ўр┤ђ╔бр┤Є 09 
Рў╗ ­Юљд­Юљъ­ЮљГ­Юљџ­ЮљЦ­ЮљЦ­Юљб­Юљю <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­Юљб­Юљю­Юљъ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­Юљг­ЮљД­Юље­Юљ░ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­Юљб­Юљд­ЮљЕ­ЮљФ­Юљъ­Юљг­Юљг­Юљб­Юљ»­Юљъ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­Юљд­Юљџ­ЮљГ­ЮљФ­Юљб­Юљ▒ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­ЮљЦ­Юљб­Юља­ЮљА­ЮљГ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­ЮљД­Юљъ­Юље­ЮљД <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­ЮљЮ­Юљъ­Юљ»­Юљб­ЮљЦ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­ЮљЕ­Юљ«­ЮљФ­ЮљЕ­ЮљЦ­Юљъ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­ЮљГ­ЮљА­Юљ«­ЮљД­ЮљЮ­Юљъ­ЮљФ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­ЮљЦ­Юљъ­Юљџ­Юљ»­Юљъ­Юљг <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­ЮЪЈ­ЮЪЌ­ЮЪЈ­ЮЪЋ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­Юљџ­ЮљФ­Юљъ­ЮљД­Юљџ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>

# р┤ўр┤ђ╔бр┤Є 10  
Рў╗ ­ЮљА­Юљџ­Юљю­Юљц­Юљъ­ЮљФ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­Юљг­Юљџ­ЮљД­ЮљЮ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­ЮљЏ­ЮљЦ­Юљџ­Юљю­Юљц­ЮљЕ­Юљб­ЮљД­Юљц <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­Юља­ЮљЦ­Юљб­ЮљГ­Юљю­ЮљА <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­ЮљЪ­Юљб­ЮљФ­Юљъ <­ЮљГ­Юљъ­Юљ▒­ЮљГ>
Рў╗ ­ЮљЕ­ЮљЦ­Юљџ­Юљ▓ <­Юљг­Юље­ЮљД­Юља>
Рў╗ ­Юљг­Юље­ЮљД­Юља <­Юљг­Юље­ЮљД­Юља>
Рў╗ ­Юљг­ЮљЕ­Юље­ЮљГ­Юљб­ЮљЪ­Юљ▓ <­Юљф­Юљ«­Юљъ­ЮљФ­Юљ▓>
Рў╗ ­Юљб­ЮљД­Юљг­ЮљГ­Юљџ­Юља­ЮљФ­Юљџ­Юљд <­ЮљЦ­Юљб­ЮљД­Юљц>
Рў╗ ­ЮљЪ­Юљџ­Юљю­Юљъ­ЮљЏ­Юље­Юље­Юљц <­ЮљЦ­Юљб­ЮљД­Юљц>
Рў╗ ­ЮљГ­Юљб­Юљц­ЮљГ­Юље­Юљц <­ЮљЦ­Юљб­ЮљД­Юљц>
Рў╗ ­Юљ»­Юљб­ЮљЮ­Юљъ­Юље <­Юљг­Юље­ЮљД­Юља>
Рў╗ ­Юљ▓­ЮљГ­Юљд­ЮљЕ­ЮЪњ <­ЮљЦ­Юљб­ЮљД­Юљц>
`.trim();

/**
 * Dynamic Uptime
 */
function getUptime() {
  const uptime = process.uptime();
  const hours = Math.floor(uptime / 3600);
  const minutes = Math.floor((uptime % 3600) / 60);
  const seconds = Math.floor(uptime % 60);
  return `${hours}h ${minutes}m ${seconds}s`;
}

/**
 * Pick Random Item from Array
 */
const pickRandom = (arr) => arr.length ? arr[Math.floor(Math.random() * arr.length)] : null;

/**
 * Validate URL via HEAD request
 */
const isValidUrl = async (url) => {
  try {
    const { status } = await axios.head(url, { timeout: 6000 });
    return status >= 200 && status < 400;
  } catch {
    return false;
  }
};

/**
 * SLIDE MENU - Interactive Carousel
 */
const sendSlideHelpMenu = async (sock, chatId, message) => {
  const quoted = message || null;

  try {
    const sections = HELP_MESSAGE.split('# ').filter(Boolean).map(s => '# ' + s);
    const cards = [];

    for (let i = 0; i < sections.length; i++) {
      const section = sections[i];
      const titleMatch = section.match(/# ([^\n]+)/);
      const title = titleMatch ? titleMatch[1].trim() : `Section ${i + 1}`;
      const imageUrl = IMAGES[i % IMAGES.length] || IMAGES[0];

      let media = null;
      try {
        media = await prepareWAMessageMedia(
          { image: { url: imageUrl } },
          { upload: sock.waUploadToServer }
        );
      } catch (e) {
        console.warn(`Image upload failed for slide ${i + 1}:`, e.message);
      }

      const header = proto.Message.InteractiveMessage.Header.create({
        ...(media || {}),
        title: `*${title}*`,
        subtitle: "­ЮЎ╗­Юџў­ЮџЈ­ЮџЮ ­Юџђ­Юџъ­Юџі­ЮџЌ­ЮџЮ­Юџъ­Юџќ ­ЮџЄ­ЮЪй",
        hasMediaAttachment: !!media,
      });

      const bodyText = section.replace(/^[^\n]*\n/, '').trim().split('\n').slice(0, 25).join('\n');

      cards.push({
        header,
        body: { text: bodyText },
        nativeFlowMessage: {
          buttons: [
            {
              name: "quick_reply",
              buttonParamsJson: JSON.stringify({
                display_text: `View ${i + 1}`,
                id: `view_help_${i + 1}`
              })
            }
          ]
        }
      });
    }

    const carouselMessage = generateWAMessageFromContent(
      chatId,
      {
        viewOnceMessage: {
          message: {
            interactiveMessage: {
              body: { text: "*Жю▒╩Ъ╔фр┤Ёр┤Є ╩ђ╔ф╔б╩юр┤Џ*" },
              footer: { text: "┬Ер┤ўр┤Јр┤Ар┤Є╩ђр┤Ё ╩Ў╩Ј ╩Ър┤ЈЖю░р┤Џ" },
              carouselMessage: { cards, messageVersion: 1 },
              contextInfo: { forwardingScore: 0, isForwarded: false }
            }
          }
        }
      },
      { quoted }
    );

    const sent = await sock.relayMessage(chatId, carouselMessage.message, {
      messageId: carouselMessage.key.id
    });

    // Listener: React & Send Full Section on Button Press
    const listener = async (m) => {
      const mek = m.messages[0];
      if (!mek.message) return;

      const text = mek.message?.conversation || mek.message?.extendedTextMessage?.text || '';
      const isReply = mek.message?.extendedTextMessage?.contextInfo?.stanzaId === sent.key.id;
      const from = mek.key.remoteJid;

      if (!isReply || from !== chatId) return;

      await sock.sendMessage(from, { react: { text: 'Success', key: mek.key } });

      const match = text.match(/view_help_(\d+)/);
      if (match) {
        const idx = parseInt(match[1]) - 1;
        if (idx >= 0 && idx < sections.length) {
          const selected = sections[idx];
          const title = selected.match(/# ([^\n]+)/)?.[1]?.trim() || 'Menu';
          const imageUrl = IMAGES[idx % IMAGES.length] || IMAGES[0];

          await sock.sendMessage(from, {
            image: { url: imageUrl },
            caption: `*${title}*\n\n${selected.replace(/^#[^\n]*\n/, '').trim()}`
          }, { quoted: mek });
        }
      }

      sock.ev.off('messages.upsert', listener);
    };

    sock.ev.on('messages.upsert', listener);

  } catch (error) {
    console.error('Slide Menu Error:', error);
    await sock.sendMessage(chatId, { text: '*Slide menu failed.*\n\n' + HELP_MESSAGE }, { quoted });
  }
};

/**
 * Main Help Command РђЊ **SLIDE MENU ONLY**
 */
const helpCommand = async (sock, chatId, message) => {
  if (!sock || !chatId) return console.error('Missing sock or chatId');

  try {
    // Directly send the interactive slide menu
    await sendSlideHelpMenu(sock, chatId, message);

  } catch (error) {
    console.error('helpCommand Error:', error);
    await sock.sendMessage(chatId, { text: `*Error:* ${error.message}\n\n${HELP_MESSAGE}` }, { quoted: message });
  }
};

module.exports = helpCommand;